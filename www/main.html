<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <meta http-equiv="Content-Security-Policy" content="img-src 'self' blob: ; default-src *; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  
        <link rel="stylesheet" type="text/css" href="css/index.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <!--bootstarp -->

        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

<!-- Optional theme -->
        
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

<script type="text/javascript">
  function sliderChange(val)
  {
if(val == 2012)
{
window.location = 'main.html#2012';
}
if(val == 2013)
{
window.location = 'main.html#2013';
}
if(val == 2014)
{
window.location = 'main.html#2014';
}
if(val == 2015)
{
window.location = 'main.html#2015';
}
if(val == 2016)
{
window.location = 'main.html#2016';
}
if(val == 2017)
{
window.location = 'main.html#2017';
    
    //make photos in forms, send phoebe apk, push to amazon, labels,
    //ODK login data
}
  }
</script>
        <!-- -->
        <title>DHAT</title>
    </head>


    <body ng-app="dhat">

<!--
<input class="slider-width" type="range" min="2012" max="2017" step="1" onchange="sliderChange(this.value)">
-->

       <div class="container-fluid" ng-controller="customersCtrl">
<div class="row menubar">
    <div class="col-md-4"><h3> DHAT </h3></div>
  <div class="col-md-3 text-center"></div>
  <div class="col-md-5 text-right"> 
      
      <div class="input-group">
      
      <input type="text" class="form-control" type="text" ng-model="id"  onclick="select()"placeholder="Enter Patient ID" autofocus>
          <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-click="change()" ><i  class="glyphicon glyphicon-pencil"></i> Get Patient</button>
      </span>
        <button class="btn btn-primary pull-right" data-toggle="modal" data-target="#myModal" href="#">
        <i class="glyphicon glyphicon-search"></i>
        Search for Patients
      </button>
    </div>
      </div>
</div>

<div class="row" >
  <div class="col-md-4 sidebar">
<div class="panel panel-default">
  <div class="panel-heading clearfix">
    <h3 class="panel-title pull-left">{{patientData.Name  ? patientData.Name : 'Load a patient to begin'}} </h3>

    </div>
    <div class="list-group">

      <div class="list-group-item">
        <img id="photo"  alt="Load a patient to begin."/>

      </div>
      <div class="list-group-item">
        <p class="list-group-item-text">
            <table class="table table-hover">
        <tr ng-repeat = "(a,b) in patientData">
            <td>{{ a }}</td>
            <td>{{ b }}</td>
            </tr>
        </table>
          </p>
      </div>
    </div>

</div>
    <!--

      <div class="panel panel-default bootcards-summary">
  <div class="panel-heading">
    <h3 class="panel-title">Patient Summary</h3>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-6 col-sm-4">
        <a class="bootcards-summary-item" href="#">
          <i class="fa fa-3x fa-users"></i>
          <h4>Acuity <br/><span class="label label-info">98</span></h4>
        </a>
      </div>
      <div class="col-xs-6 col-sm-4">
        <a class="bootcards-summary-item" href="#">
          <i class="fa fa-3x fa-building-o"></i>
          <h4>Left Vision <span class="label label-info">98</span></h4>
        </a>
      </div>
      <div class="col-xs-6 col-sm-4">
        <a class="bootcards-summary-item" href="#">
          <i class="fa fa-3x fa-clipboard"></i>
            <h4>Right Vision <span class="label label-info">98</span></h4>
        </a>
      </div>

    </div>
  </div>
</div>

-->
    </div>
  <div class="col-md-8 mainbar">

<div class="panel panel-default bootcards-file" ng-repeat="x in forms">
  <div class="panel-heading">
    <h3 class="panel-title"><a name = "2017"><strong >{{ x.formName }}</strong></a>
            
  </div>
  <div class="list-group">
    <div class="list-group-item">

      <h4 class="list-group-item-heading">
        <a href="#">
         <p class="list-group-item-text">{{ x.formDate }}</p></h3>
        </a>
      </h4>
      </div>
    <div class="list-group-item">
        <table class="table table-hover" style="display:none">
        <tr ng-repeat = "(a,b) in x.formData"  >
            <td>{{ a }}</td>
            <td>{{ b }}</td>
            </tr>
        </table>
      <p class="list-group-item-text" > </p>
    </div>
  </div>
  <div class="panel-footer">
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <button class="btn btn-default" onclick="$(this).parent().parent().parent().parent().find('.table').toggle()">
          <i class="fa fa-arrow-down"></i>
          Toggle Details
        </button>
      </div>

    </div>
  </div>
</div>



      
</div>


</div>
        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
        
        
        <script>

</script>
    
    
        <div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
<div class="modal-content" ng-controller="searchCtrl">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Search for patient</h4>
      </div>
      <div class="modal-body">
        <p>Year of Birth</p>  <input type="text" class="form-control" type="text" ng-model="birthyear" ng-change="change()"  placeholder="Enter Patient ID" autofocus>
          <p>Name</p>  <input type="text" class="form-control" type="text" ng-model="name" ng-change="change()" placeholder="Enter Patient ID" autofocus>
          <p>Phone</p>  <input type="text" class="form-control" type="text" ng-model="phone" ng-change="change()" placeholder="Enter Patient ID" autofocus>
          <br/>
          <span style = "text-align:center">
          <button class="btn btn-primary" type="button" ng-click="change()" ><i  class="glyphicon glyphicon-search"></i>
              Search</button>
              </span>
      </div>
      <div class="modal-footer">
        {{  patients.length == 0  ? "No patients found" : "" }}
          <table class="table table-hover" >
            <tr ng-repeat = "y in patients"  ng-click= "getPatient(y)" >
            <td ng-repeat = "(a,b) in y"  >{{ a }} : {{ b }}</td>
            </tr>
        </table>
          
      </div>
    </div>

  </div>
</div>
    
    
            <div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

</div>
    
    </body>
</html>
